<!DOCTYPE HTML>
<html>
  <head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
	<script src="../commons/libs/jquery.js"></script>
	<script src="../commons/google-code-prettify/prettify.js"></script>
	<script src="../commons/google-code-prettify/demo.js"></script>
	<link type="text/css" rel="stylesheet" href="../commons/google-code-prettify/prettify.css"/>
	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<script type="text/javascript" src="../commons/libs/canvas-text.js"></script>
		<script type="text/javascript" src="../commons/libs/excanvas.js"></script>
	<![endif]-->
	
    <style>
      body {
        margin: 0px;
        padding: 0px;
      }
    </style>
  </head> 
  <body>
    <canvas id="canvas" width="578" height="350"></canvas>

<div class="preblock" style="display:none;">
API参考：
[NoInterfaceObject]
interface CanvasDrawingStyles {
  // line caps/joins
           attribute unrestricted double lineWidth; // (default 1)
           attribute DOMString lineCap; // "butt", "round", "square" (default "butt")
           attribute DOMString lineJoin; // "round", "bevel", "miter" (default "miter")
           attribute unrestricted double miterLimit; // (default 10)

  // dashed lines
  void setLineDash(sequence<unrestricted double> segments); // default empty
  sequence<unrestricted double> getLineDash();
  attribute unrestricted double lineDashOffset; 


  // text
	attribute DOMString font; // (default 10px sans-serif)
	attribute DOMString textAlign; // "start", "end", "left", "right", "center" (default: "start")
	attribute DOMString textBaseline; // "top", "hanging", "middle", "alphabetic", "ideographic", "bottom" (default: "alphabetic")
};
</div>



<div class="preblock">
    <script>
      var canvas = document.getElementById('canvas');
      var context = canvas.getContext('2d');
	  // 反走样修复
      context.translate(0.5, 0.5);

      context.beginPath();
	  context.moveTo(50, 30);
      context.lineTo(400, 30);
      context.stroke();

	  context.beginPath();
	  context.moveTo(50, 60);
      context.lineTo(400, 60);
	  context.lineWidth = 10;
      context.stroke();

	  context.beginPath();
	  context.moveTo(50, 90);
      context.lineTo(50, 300);
	  context.lineWidth = 20;
	  context.lineCap = 'butt';
      context.stroke();

	  context.beginPath();
	  context.moveTo(100, 90);
      context.lineTo(100, 300);
	  context.lineWidth = 20;
	  context.lineCap = 'round';
      context.stroke();

	  context.beginPath();
	  context.moveTo(150, 90);
      context.lineTo(150, 300);
	  context.lineWidth = 20;
	  context.lineCap = 'square';
      context.stroke();

	  //参考线：
	  context.beginPath();
	  context.moveTo(0, 90);
      context.lineTo(500, 90);
	  context.lineWidth = 1;
      context.stroke();

	  context.beginPath();
	  context.moveTo(0, 300);
      context.lineTo(500, 300);
	  context.lineWidth = 1;
      context.stroke();

	  context.beginPath();
	  context.moveTo(200, 200);
      context.lineTo(230, 100);
	  context.lineTo(260, 200);
	  context.lineWidth = 20;
	  context.lineJoin = 'round';
      context.stroke();

	  context.beginPath();
	  context.moveTo(300, 200);
      context.lineTo(330, 100);
	  context.lineTo(360, 200);
	  context.lineWidth = 20;
	  context.lineJoin = 'bevel';
      context.stroke();

	  context.beginPath();
	  context.moveTo(400, 200);
      context.lineTo(430, 100);
	  context.lineTo(460, 200);
	  context.lineWidth = 20;
	  context.lineJoin = 'miter';
      context.stroke();

	  // 兼容处理：如果不存在setLineDash，设置一个空函数
	  if (!context.setLineDash) {
		 context.setLineDash = function () {}
	  }
	
	  context.beginPath();
	  var segments = [5];
	  context.setLineDash(segments);
	  context.mozDash = segments;
	  context.moveTo(200, 230);
      context.lineTo(300, 230);
	  context.lineWidth = 0.9;
      context.stroke();

	  context.beginPath();
	  var segments = [2,3,4];
	  context.setLineDash(segments);
	  context.moveTo(200, 240);
      context.lineTo(300, 240);
	  context.lineWidth = 1;
      context.stroke();

	  context.beginPath();
	  context.moveTo(200, 250);
      context.lineTo(300, 250);
	  context.lineDashOffset = [90];
	  context.lineWidth = 1;
	  context.font = '30px 微软雅黑';
      context.stroke();

    </script>
</div>

  </body>
</html>      